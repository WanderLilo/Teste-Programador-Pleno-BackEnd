CREATE DATABASE AgroCP COLLATE latin1_general_ci_ai;  
GO  

USE AgroCP;
GO

CREATE TABLE dbo.ESTADOS (
    Id   NVARCHAR (2)  NOT NULL PRIMARY KEY,
    NOME NVARCHAR (60) NOT NULL,
);


CREATE TABLE dbo.CIDADES (
    Id       INT           NOT NULL PRIMARY KEY IDENTITY,
    Nome     NVARCHAR (60) NOT NULL,
    EstadoId NVARCHAR (2)  NOT NULL,
    CONSTRAINT FK_CIDADES_ESTADO FOREIGN KEY(EstadoId) REFERENCES dbo.ESTADOS(Id)
);


CREATE TABLE dbo.PESSOAS (
    Id       INT           NOT NULL PRIMARY KEY IDENTITY,
    Nome     NVARCHAR (60) NOT NULL,
    CidadeId INT           NOT NULL,
    CPF      NVARCHAR (14) NOT NULL,
    CONSTRAINT FK_PESSOAS_CIDADE FOREIGN KEY(CidadeId) REFERENCES dbo.CIDADES(Id)
);


CREATE TABLE dbo.LOG (
    Id       INT           NOT NULL  PRIMARY KEY IDENTITY,
    Funcao   NVARCHAR (60) NOT NULL,
    Acao     NVARCHAR (20) NOT NULL,
    DataHora DATETIME2 (7) NOT NULL,
);


